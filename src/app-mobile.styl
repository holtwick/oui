@require "../stylus/index.styl";
@require "../stylus/theme.styl";

:root {
  --footer-bg: var(--t3-bg);
}

@keyframes keyboard_animation {
  /* https://gist.github.com/kiding/72721a0553fa93198ae2bb6eefaa3299 */
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

body, html {
  padding: 0;
  margin: 0;
  height: 100%;
  background: var(--footer-bg);
  transition: height 400ms ease; // cubic-bezier(0.85, 0.75, 0.15, 0.85);
}

#app {
  use: stack-y;
  height: 100%;
}

.app-mobile {
  use: stack-y;
  height: 100%;
  background: yellow;
  // use: safe-margin;
}

main {
  use: grow;
  use: scroll;
}

header {
  // border: 1px solid red;
  background: var(--footer-bg);
  padding-top: -safe-top;
  padding-left: -safe-left;
  padding-right: -safe-right;
}

footer {
  // border: 1px solid red;
  background: var(--footer-bg);
  padding-bottom: -safe-bottom;
  padding-left: -safe-left;
  padding-right: -safe-right;
}

body {
  /* Avoids overflow */
  -webkit-overflow-scrolling: none;
  overscroll-behavior: none;
}

@keyframes blink_input_opacity_to_prevent_scrolling_when_focus {
  /* https://gist.github.com/kiding/72721a0553fa93198ae2bb6eefaa3299 */
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

input:focus, textarea:focus, [contenteditable]:focus {
  /* Avoids scroll issues on keyboard showup */
  animation: blink_input_opacity_to_prevent_scrolling_when_focus 0.01s;
}
