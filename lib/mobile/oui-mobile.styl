@require "../stylus/index.styl";

html.oui-mobile {
  &, body {
    /* This seems to fix overscrolling */
    /* https://www.bram.us/2016/05/02/prevent-overscroll-bounce-in-ios-mobilesafari-pure-css/ */
    overflow: hidden;
    height: 100%;
  }

  & {
    /* https://forums.developer.apple.com/forums/thread/48088 */
    transition: height 400ms cubic-bezier(0.38, 0.7, 0.125, 1);
  }

  & {
    /* Avoids bouncy scrolling */
    -webkit-overflow-scrolling: none;
    overscroll-behavior: none;
  }

  &, * {
    touch-action: manipulation;
    // touch-action: pan-x pan-y; // prevent zoom https://stackoverflow.com/a/62165035/140927
    -webkit-tap-highlight-color: transparent;
    -webkit-text-size-adjust: 100%;
  }

  @keyframes ios_prevent_scrolling_issues {
    /* https://gist.github.com/kiding/72721a0553fa93198ae2bb6eefaa3299 */
    0% {
      opacity: 0;
    }

    100% {
      opacity: 1;
    }
  }

  input:focus, textarea:focus, [contenteditable]:focus {
    /* Avoids scroll issues on keyboard showup */
    animation: ios_prevent_scrolling_issues 0.01s;
  }
}